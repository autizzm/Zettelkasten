
Theory for the cards: [[Regular expressions - SQL]]

FILE TAGS: sql

Q: Как с помощью сравнения regex в sql запросе получить все строки таблицы, где поле name начинается с `'John'` ?

A:   
```sql
SELECT * FROM Users WHERE name ~ '^John';
```
<!--ID: 1757867385090-->



Q: Как с помощью сравнения regex в sql запросе получить все строки таблицы, где поле name заканчивается символами `e` или `y` ?
A:   
```sql
SELECT * FROM  Subject WHERE name ~ '[ey]$'
```
<!--ID: 1757867398381-->



Q: Как с помощью сравнения regex в sql запросе получить все строки таблицы, где поле email заканчивается подстрокой @outlook.com или @icloud.com?
A:   
```sql
SELECT * FROM Users WHERE email ~ '@(outlook|icloud)\.com$'
```
<!--ID: 1757867404284-->



Q: Как с помощью сравнения regex в sql запросе получить все строки таблицы, где поле phone_number не содержит цифр 2 и 8?
A:   
```sql
SELECT * FROM Users WHERE phone_number ~ '^[^28]*$'
```
<!--ID: 1757867409679-->


Q: Как с помощью сравнения regex в sql запросе получить все строки таблицы, где поле phone_number начинается с `"+7"`  ?
A:    
```sql
SELECT name, phone_number FROM Users WHERE phone_number ~ '^\+7'
```


Q:  Как с помощью сравнения regex  в sql запросе получить все строки таблицы, где поле address содержит подстроку `'Avenue'` ?
A:   
```sql
SELECT id, address WHERE address ~* 'Avenue';
```


Q: Как в regex обозначается "0 или более символов соотвтетствующих регексу, после которого стоит этот символ " ?
A:  Символ `*`. Например `'[^0]*'` - любое количество символов не равных 0 (т.е. это может быть и пустая строка)


Q: Как в regex обозначается "1 или более символов соотвтетствующих регексу, после которого стоит этот символ "?
A: `+`. Например `'[^0]+'` - строка, содержащая как минимум один символ, не равный 0 (т.е. это может не быть пустая строка)


Q: Как в regex обозначается "0 или 1 символ соотвтетствующи1 регексу, после которого стоит этот символ "?
A: `?`. Например `'[^0]?'` - строка, содержащая как минимум один символ, не равный 0. Либо не содержащая ни одного символа (т.е. это может быть пустая строка или '0')


Q: Как в regex обозначается "Любая заглавная буква"?
A: Вот так:`[A-Z]` 


Q: Как в regex обозначается "Любая строчная буква"?
A: `[a-z]`


Q:  Как в  regex обозначается "Любая цифра буква" ?
A:  `[0-9]`


Q: Как в regex обозначается "есть любой из символов в любом порядке"?
A: `[abc]`. Например `^[abc]*$` - строка может состоять только из `a`, `b` и `c` (в любом порядке и любом количестве, включая пустую строку).
<!--ID: 1757867307595-->


Q: Как в regex обозначается "нет определённых символов в любом порядке"?
A: `[^abc]`. Например `^[^abc]*$` - строка может состоять только из символов не равных  `a`, `b` и `c` (в любом порядке и любом количестве, включая пустую строку).
<!--ID: 1757867307607-->

