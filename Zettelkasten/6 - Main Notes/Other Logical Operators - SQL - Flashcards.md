
Theory for the cards: [[Other Logical Operators - SQL]]

FILE TAGS: sql

Q: Как sql запросом сделать выборку тех строк таблицы, где значение числового поля field находится в определенном диапазоне?
A: С помощью оператора BETWEEN:
```sql
SELECT * FROM "My Table"
WHERE field BETWEEN 100 AND 500;
```
<!--ID: 1757861073186-->


Q: Как sql запросом сделать выборку тех строк таблицы, где значение текстового поля field находится в определенном диапазоне (проверить, соответствует ли значение поля определённым вариантам из списка)?
A: С помощью оператора IN:
```sql
SELECT * FROM "My Table"
WHERE field IN ('val1', 'val2');
```
<!--ID: 1757861073193-->


Q: Как sql запросом сделать выборку тех пользователей, чей email имеет в названии @gmail?
A: Использовать оператор LIKE и паттерн `%@gmail%`:
```sql
SELECT name, email FROM Users
WHERE email LIKE '%@gmail.%'
```
<!--ID: 1757861073201-->


Q: Для чего в sql оператор LIKE и как им пользоваться?
A: Оператор LIKE нужен для проверки соответствия значения поля определенному паттерну. Паттерн - строка со специальными символами `%` и `_`, где
`%` - обозначает любое количество любых символов
`_` - один любой символ.
Пример:
 `%@hotmail.%'` - этому паттерну будут соответствовать все следющие строки: (`'@hotmail.', 'xxx@hotmail.', '@hotmail.xxx', 'xxx@hotmail.xxx'`)
<!--ID: 1757861073207-->


Q: Как sql запросом сделать выборку строк таблицы, где значение текстового поля progress соответствует паттерну `xxx% complete`?
A: Для проверки соответствия паттерну используем оператор LIKE. Чтобы использовать специальный символ `%` в составе паттерна, потребуется использование оператора ESCAPE. Синтаксис:
```sql
expr LIKE pattern [ESCAPE escape_character]
 ```
- `pattern` — строка-шаблон, где `%` и `_` — спецсимволы.   
- `escape_character` — один символ (обычно `\`, `!`, `#` и т.п.).
Наш конкретный пример:
```sql
SELECT * FROM Tasks WHERE progress LIKE '___!% complete' ESCAPE '!';
/* или */
SELECT * FROM Tasks WHERE progress LIKE '%!% complete' ESCAPE '!';
```
<!--ID: 1757861073212-->
