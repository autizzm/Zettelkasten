
14-09-2025 18:36

Status: #child 

Tags: [[SQL]]

---
# Regular expressions - SQL

–ü–æ–∑–≤–æ–ª—è—é—Ç –ø—Ä–æ–≤–µ—Ä—è—Ç—å –¥–∞–Ω–Ω—ã–µ –Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω—ã–º –ø–∞—Ç—Ç–µ—Ä–Ω–∞–º —á–µ–º –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ–ø–µ—Ä–∞—Ç–æ—Ä ~={cyan}LIKE=~.

## –°–∏–Ω—Ç–∞–∫—Å–∏—Å

```sql
... WHERE table_field ~ 'pattern';   -- case-sensitive
... WHERE table_field ~* 'pattern';  -- case-insensitive
-- 'pattern' - —ç—Ç–æ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ –∏ –µ—Å—Ç—å reg ex
```

- `~` - ~={cyan}case-sensitive=~ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ
-  `~*` - ~={cyan}case-insensitive=~  —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ


### –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã –∏ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏

> [!warning] **–ü–æ–∏—Å–∫ –ø–æ–¥—Å—Ç—Ä–æ–∫ —á–µ—Ä–µ–∑ regex**
> –ß—Ç–æ–±—ã –Ω–∞–π—Ç–∏ –ø–æ–¥—Å—Ç—Ä–æ–∫—É –Ω—É–∂–Ω–æ —Ç–∞–∫ –µ—ë –∏ –Ω–∞–ø–∏—Å–∞—Ç—å –≤ regexe:
>```sql
SELECT id, address WHERE address ~* 'Avenue';
>```
>–ê —á—Ç–æ–±—ã –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ —Å–æ —Å–ø–∏—Å–∫–æ–º —Å–∏–º–≤–æ–ª–æ–≤ –≤ –ª—é–±–æ–º –ø–æ—Ä—è–¥–∫–µ - –∏—Å–ø–æ–ª—å–∑—É–µ–º —Å–∫–æ–±–∫–∏ `[ ]`:
>```sql
SELECT * FROM  Subject WHERE name ~ '[ey]';
>```

| Characters and constructs | Matches                                                                               |
| :------------------------ | :------------------------------------------------------------------------------------ |
| *                         | 0 –∏–ª–∏ –±–æ–ª–µ–µ —Å–∏–º–≤–æ–ª–æ–≤ —Å–æ–æ—Ç–≤—Ç–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö —Ä–µ–≥–µ–∫—Å—É, –ø–æ—Å–ª–µ –∫–æ—Ç–æ—Ä–æ–≥–æ —Å—Ç–æ–∏—Ç —ç—Ç–æ—Ç —Å–∏–º–≤–æ–ª (`*`) |
| +                         | 1 –∏–ª–∏ –±–æ–ª–µ–µ —Å–∏–º–≤–æ–ª–æ–≤ —Å–æ–æ—Ç–≤—Ç–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö —Ä–µ–≥–µ–∫—Å—É, –ø–æ—Å–ª–µ –∫–æ—Ç–æ—Ä–æ–≥–æ —Å—Ç–æ–∏—Ç —ç—Ç–æ—Ç —Å–∏–º–≤–æ–ª (`+`) |
| .                         | –õ—é–±–æ–π —Å–∏–º–≤–æ–ª                                                                          |
| ?                         | 0 –∏–ª–∏ 1 —Å–æ–æ—Ç–≤—Ç–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö —Ä–µ–≥–µ–∫—Å—É, –ø–æ—Å–ª–µ –∫–æ—Ç–æ—Ä–æ–≥–æ —Å—Ç–æ–∏—Ç —ç—Ç–æ—Ç —Å–∏–º–≤–æ–ª (`?`)              |
| ^                         | –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –Ω–∞—á–∞–ª–æ–º —Å—Ç—Ä–æ–∫–∏                                                            |
| $                         | –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –∫–æ–Ω—Ü–æ–º —Å—Ç—Ä–æ–∫–∏                                                             |
| [abc]                     | –µ—Å—Ç—å –ª—é–±–æ–π –∏–∑ —Å–∏–º–≤–æ–ª–æ–≤, —Å–æ–¥–µ—Ä–∂–∞—â–∏—Ö—Å—è –≤–Ω—É—Ç—Ä–∏ –∫–≤–∞–¥—Ä–∞—Ç–Ω—ã—Ö —Å–∫–æ–±–æ–∫                         |
| `[^abc]`                  | –Ω–µ—Ç –ª—é–±–æ–≥–æ –∏–∑ —Å–∏–º–≤–æ–ª–æ–≤, —Å–æ–¥–µ—Ä–∂–∞—â–∏—Ö—Å—è –≤–Ω—É—Ç—Ä–∏ –∫–≤–∞–¥—Ä–∞—Ç–Ω—ã—Ö —Å–∫–æ–±–æ–∫                         |
| [A-Z]                     | –õ—é–±–∞—è –∑–∞–≥–ª–∞–≤–Ω–∞—è –±—É–∫–≤–∞ (A‚ÄìZ)                                                           |
| [a-z]                     | –õ—é–±–∞—è —Å—Ç—Ä–æ—á–Ω–∞—è –±—É–∫–≤–∞ (a‚Äìz)                                                            |
| [0-9]                     | –õ—é–±–∞—è —Ü–∏—Ñ—Ä–∞ (0‚Äì9)                                                                     |
| p1\|p2\|p3                | –õ—é–±–æ–π –∏–∑ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤¬†p1¬†–∏–ª–∏¬†p2¬†–∏–ª–∏¬†p3                                                   |
| {n}                       | n¬†–ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–π –ø–æ–¥—Å—Ç—Ä–æ–∫–∏, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–π –ø—Ä–µ–¥—ã–¥—É—â–µ–º—É —Ä–µ–≥–µ–∫—Å—É                           |
| {m,n}                     | –û—Ç m –¥–æ n –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–π –ø–æ–¥—Å—Ç—Ä–æ–∫–∏, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–π –ø—Ä–µ–¥—ã–¥—É—â–µ–º—É —Ä–µ–≥–µ–∫—Å—É                   |

> [!note] **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤**
> –ï—Å–ª–∏ –Ω—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ—á–∫—É –∫–∞–∫ —á–∞—Å—Ç—å –ø–æ–¥—Å—Ç—Ä–æ–∫–∏ –ø–∞—Ç—Ç–µ—Ä–Ω–∞, –∞ –Ω–µ –∫–∞–∫ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π —Å–∏–º–≤–æ–ª, –æ–±–æ–∑–Ω–∞—á–∞—é—â–∏–π –ª—é–±–æ–π —Å–∏–º–≤–æ–ª. => –∏—Å–ø–æ–ª—å–∑–µ–º `\`:
> - `.` - –ª—é–±–æ–π —Å–∏–º–≤–æ–ª
> -  `\.` - —Ç–æ—á–∫–∞


## –ü—Ä–∏–º–µ—Ä—ã

- **Get all users whose names start with "John":**

```sql
SELECT * FROM Users WHERE name ~ '^John'
```
	
	
- **Display all school subjects whose names end with the letter "e" or "y":**

```sql
SELECT * FROM  Subject WHERE name ~ '[ey]$'
```
	
	
- **Find all users whose email addresses end with "@outlook.com" or "@icloud.com":**

```sql
SELECT * FROM Users WHERE email ~ '@(outlook|icloud)\.com$'
```
	
	
- **Find all users whose phone numbers do not contain the digits "2" and "8":**

```sql
SELECT * FROM Users WHERE phone_number ~ '^[^28]*$'
```
	 –ü—Ä–æ `*`
‚Äì –ö–≤–∞–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä: ¬´0 –∏–ª–∏ –±–æ–ª–µ–µ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–π –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –≤—ã—Ä–∞–∂–µ–Ω–∏—è¬ª.  
‚Äì –ó–¥–µ—Å—å –æ—Ç–Ω–æ—Å–∏—Ç—Å—è –∫ `[^28]`.  
üëâ –¢–æ –µ—Å—Ç—å: ¬´–ª—é–±–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–∏–º–≤–æ–ª–æ–≤, –Ω–µ —Ä–∞–≤–Ω—ã—Ö `'2'` –∏–ª–∏ `'8'` (–≤–∫–ª—é—á–∞—è –ø—É—Å—Ç—É—é —Å—Ç—Ä–æ–∫—É)¬ª.
	
	
- **Find all users whose phone number starts with ¬´+7¬ª**

```sql
SELECT name, phone_number FROM Users WHERE phone_number ~ '^\+7'
```
	
	
- Find addresses that contain the string 'Avenue'
```sql
SELECT id, address WHERE address ~* 'Avenue';
```

----
#### [[Regular expressions - SQL - Flashcards|Link to flashcards]]



---
### References:

