
Theory for the cards: [[Anonymous classes Java]]

FILE TAGS: java_core

Q: Могут ли анонимные классы иметь static поля и методы?
A: Могут, начиная с версии Java 16 SE
<!--ID: 1757588149738-->


Q: Могут ли анонимные классы иметь instance initializer block?
A: Да, могут.
<!--ID: 1757588149757-->


Q: Могут ли анонимные классы иметь static initializer block?
A: Да, могут, начиная с версии Java 16 SE
<!--ID: 1757588149766-->


Q: К каким переменным имеет доступ анонимный класс?
A: Если анонимный класс объявлен не в статическом контексте - он имеет доступ к указателю на Enclosing класс (соответственно, может обращаться к non-static полям и методам Enclosing класса. 
Если же в статическом -> не имеет указателя -> может обращаться только к static полям и методам Enclosing класса (даже private).
Доступ к переменным из scope: может обращаться только к final и effectively final переменным.
<!--ID: 1757588149774-->


Q: Есть ли у анонимного класса указатель this?
A: Да, есть. Он указывает на САМ АНОНИМНЫЙ КЛАСС.
Также есть указатель на внешний класс, он выглядит так:
`Outer.this`
<!--ID: 1757588149783-->


Q: Можно ли через указатель this анонимного класса обратиться к Enclosing классу? Или он указывает на сам анонимный класс?
A: this указывает на САМ АНОНИМНЫЙ КЛАСС.
Также есть указатель на внешний класс, он выглядит так:
`Outer.this`
<!--ID: 1757588149791-->


Q: Какова область видимости анонимного класса?
A: блок, где Anonymous класс определён (метод, конструктор,if-else, for, while,...) 
<!--ID: 1757588149798-->


Q: Может ли анонимный класс наследовать другой класс или интерфейс? Может ли наследовать несколько интерфейсов?
A: >Может явно наследовать только один класс или интерфейс:
>```java
>...
>{
>	SomeClass anonymous = new SomeClass(){ 
>		...
>	}
>}
>```
Здесь анонимный класс наследует SomeClass.
<!--ID: 1757588149807-->



Q: Может ли анонимный класс иметь конструктор?
A: Нет, не может, он обращается к конструктору суперкласса или _интерфейсной реализации_ при вызове `new SuperType(...) { ... }`. Здесь `SuperType(...)` - конструктор, он может принимать параметры. 
**Можно** объявлять instance initializer block.
<!--ID: 1757588149815-->

