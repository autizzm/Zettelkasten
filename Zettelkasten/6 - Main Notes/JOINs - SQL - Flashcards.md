
Theory for the cards: [[JOINs - SQL]]

FILE TAGS: databases

Q: Какой вид слияния таблиц надо использовать, если мы хотим получить всех пользователей, который указали свой адрес (отдельная таблица User и отдельная Address)?
A: Используем INNER JOIN, т.к. он отобразит только те строки, которые связаны друг с другом. Если на какого-то пользователя не ссылается ни одной записи из таблицы Address, то он не будет включён в результат слияния.
<!--ID: 1761506254087-->


Q: Какой вид слияния таблиц надо использовать, если мы хотим получить всю доступную информацию обо всех пользователях (у кого-то указаны адрес в т. Addresses, у кого-то нет)?
A: Используем LEFT JOIN:
```sql
SELECT * FROM Users LEFT JOIN Addresses;
```
Таким образом, отобразятся все пользователи, и, если на какого-то пользователя не ссылается ни одной записи из таблицы Address, то всё равно будет включён в результат JOIN, а присоединяемые колонки таблицы Address будут иметь для него значения NULL.
<!--ID: 1761506254097-->


Q: Чем отличается LEFT JOIN от RIGHT JOIN?
A: Стороной, в которой отображаются все записи.
- При LEFT JOIN в результате слияния отображаются все записи из левой таблицы, даже если они не связаны с записями из правой таблицы (эти колонки заполняются значением NULL).
- При RIGHT JOIN - в результате слияния отображаются все записи из правой таблицы.
<!--ID: 1761506254104-->


Q: Что делает CROSS JOIN? Для чего он нужен?
A:  В результате слияния CROSS JOIN каждая строка из таблицы $A$ ставится в пару с каждой строкой из таблицы $B$. Фактически делает полность денормализованную таблицу.
<!--ID: 1761506254110-->


Q: Чем отличается INNER JOIN от LEFT и RIGHT JOIN?
A: INNER JOIN в результате слияния отображает только те записи из двух таблиц, которые имеют связь друг с другом. 
	
![[Pasted image 20251026215254.png]]
	
А LEFT и RIGHT JOIN - отображают все записи из левой или правой таблицы соответственно + записи из двух таблиц, которые имеют связь.
	
![[Pasted image 20251026215657.png]]
<!--ID: 1761506254116-->
