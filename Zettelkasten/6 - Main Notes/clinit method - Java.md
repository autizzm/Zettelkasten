
11-09-2025 21:19

Status: #baby 

Tags: [[Java Core]] [[Under the hood - Java]]

---
# clinit method - Java

(JLS ¬ß12.4.2) [Link to JLS](https://docs.oracle.com/javase/specs/jls/se21/html/jls-12.html#jls-12.4.2)


`<clinit>` ‚Äî —ç—Ç–æ **—Å–ª—É–∂–µ–±–Ω—ã–π –º–µ—Ç–æ–¥**, –∫–æ—Ç–æ—Ä—ã–π –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–ª–∞—Å—Å–∞ –∏–ª–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –≤ Java, ~={green}–µ—Å–ª–∏=~ –≤ –Ω—ë–º ~={green}–µ—Å—Ç—å=~ ~={orange}—Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ç–æ—Ä—ã=~ (–ø–æ–ª—è —Å–æ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ –∏–ª–∏ `static {}`-–±–ª–æ–∫–∏).



## –ü–æ—Ä—è–¥–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è static initializers –≤ `<clinit>` 

–í—Å–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ç–æ—Ä—ã (–∏ –ø–æ–ª—è, –∏ –±–ª–æ–∫–∏) –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è **–≤ —Ç–µ–∫—Å—Ç–æ–≤–æ–º –ø–æ—Ä—è–¥–∫–µ**, —Ç.–µ. –≤ —Ç–æ–º –ø–æ—Ä—è–¥–∫–µ, –≤ –∫–æ—Ç–æ—Ä–æ–º –æ–Ω–∏ –Ω–∞–ø–∏—Å–∞–Ω—ã –≤ –∏—Å—Ö–æ–¥–Ω–æ–º –∫–æ–¥–µ.


–ü—Ä–∏–º–µ—Ä:

```java
class Example {
    static int x = initX();
    static {
        System.out.println("block 1");
    }
    static int y = initY();
    static {
        System.out.println("block 2");
    }

    static int initX() { System.out.println("initX"); return 1; }
    static int initY() { System.out.println("initY"); return 2; }
}
```

`javap -c Example` –ø–æ–∫–∞–∂–µ—Ç –≤ `<clinit>` –ø—Ä–∏–º–µ—Ä–Ω–æ —Ç–∞–∫–æ–π –ø–æ—Ä—è–¥–æ–∫:

```java
0: invokestatic  #2  // initX()
3: putstatic     #3  // x
6: getstatic     #4  // System.out
9: ldc           #5  // "block 1"
...
15: invokestatic #6  // initY()
18: putstatic    #7  // y
21: getstatic    #4  // System.out
24: ldc          #8  // "block 2"
...
30: return
```

–í—ã–≤–æ–¥ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –∫–ª–∞—Å—Å–∞ –±—É–¥–µ—Ç:

```
initX
block 1
initY
block 2
```

---

### üìå –ö–æ–≥–¥–∞ –æ–Ω –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è?

- –í—ã–∑–æ–≤ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç **–ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –∫–ª–∞—Å—Å–∞** (—Å–º. **JLS ¬ß12.4.1**).
    
- –ï–≥–æ –≤—ã–∑—ã–≤–∞–µ—Ç JVM **–æ–¥–∏–Ω —Ä–∞–∑** –Ω–∞ –∫–ª–∞—Å—Å (–∏–ª–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å).
    
- –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç—Å—è, —á—Ç–æ –ø–µ—Ä–µ–¥ –ø–µ—Ä–≤—ã–º –¥–æ—Å—Ç—É–ø–æ–º –∫ –ª—é–±–æ–º—É —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–º—É –ø–æ–ª—é –∏–ª–∏ –≤—ã–∑–æ–≤–æ–º —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –º–µ—Ç–æ–¥–∞ `<clinit>` –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω.
    

---

### üìå –í–∞–∂–Ω—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞

- `<clinit>` –Ω–µ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –∏ –≤—Å–µ–≥–¥–∞ `void`.
    
- –ï—Å–ª–∏ –≤ –∫–ª–∞—Å—Å–µ –Ω–µ—Ç —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ç–æ—Ä–æ–≤ ‚Äî –º–µ—Ç–æ–¥–∞ –ø—Ä–æ—Å—Ç–æ –Ω–µ—Ç.
    
- –ò—Å–∫–ª—é—á–µ–Ω–∏–µ, –±—Ä–æ—à–µ–Ω–Ω–æ–µ –≤ `<clinit>`, –∑–∞–≤–æ—Ä–∞—á–∏–≤–∞–µ—Ç—Å—è –≤ `ExceptionInInitializerError`.
    
- –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ `<clinit>` —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç—Å—è: –µ—Å–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–æ—Ç–æ–∫–æ–≤ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É—é—Ç –∫–ª–∞—Å—Å, —Ç–æ –º–µ—Ç–æ–¥ –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑.

----
#### [[clinit method - Java - Flashcards|Link to flashcards]]



---
### References:

- [[Initializer; constants & just static finals - Java]]
- [[Detailed Initialization Procedure - Java]]